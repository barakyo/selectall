(function(b){checkedItems=[];checkedAll=!1;var e=function(c,d){this.element=b(c);this.settings=b.extend({allSelector:""},d||{});b(this.element).on("click",b.proxy(this.click,this));if(""!=this.settings.allSelector)b(this.settings.allSelector).on("click",b.proxy(this.allClick,this));this.append=function(a){-1==this.search(a)&&checkedItems.push(a);return checkedItems};this.search=function(a){return checkedItems.indexOf(a)};this.removeID=function(a){a=this.search(a);-1!=a&&checkedItems.splice(a,1);return checkedItems};
this.removeIndex=function(a){checkedItems.splice(a,1);return checkedItems};this.getList=function(){return checkedItems}};e.prototype={click:function(){var c=b(this.element).val(),d=this.search(c);b(this.element).prop("checked")?this.append(c):this.removeIndex(d)},allClick:function(){var c=b(this.settings.allSelector).prop("checked"),d=b(this.element).val(),a=this.search(d);c?(-1==a&&this.append(d),b(this.element).prop("checked",!0)):(this.removeIndex(a),b(this.element).prop("checked",!1))}};b.fn.selectall=
function(c){return this.each(function(){var d=b(this),a=new e(this,c);d.data("selectall",a)})}})(jQuery);